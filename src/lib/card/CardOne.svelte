<script lang="ts">
	import { Timeline, TimelineItem } from 'flowbite-svelte';
	import { CalendarWeekSolid } from 'flowbite-svelte-icons';
	import { Card, CardContent } from '$lib/components/ui/card';
	import { ScrollArea } from "$lib/components/ui/scroll-area/index.js";
	import { Separator } from "$lib/components/ui/separator/index.js";

	const profile = {
		name: 'è‹¥å®®ä½‘çœŸ',
		role: 'ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢',
		description: 'éæ­´',
		details: [
			{
				title: 'åˆåŒä¼šç¤¾Kalytero',
				date: '2023ã€œ',
				description:
					'COOï¼ˆæœ€é«˜åŸ·è¡Œè²¬ä»»è€…ï¼‰<br> ä¼šè¨ˆãƒ»è²¡å‹™ã®ç®¡ç†ãƒ»è¨­è¨ˆã‚„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç† <br> WEBé–‹ç™ºã‚„ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°æ”¯æ´æ¥­å‹™ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚'
			},
			{
				title: 'NPOæ³•äººPendemyãƒ‡ã‚¸ã‚¿ãƒ«æ•™è‚²ãƒ©ãƒœ',
				date: '2022ã€œ',
				description: 'æ—§ï¼šPendemyãµã¡ã‚…ã†æ•™è‚²ãƒ©ãƒœ <br> STEAMæ•™è‚²ã«é–¢ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã‚„æ´»å‹•ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚'
			},
			{ title: 'Né«˜ç­‰å­¦æ ¡ å’æ¥­', date: '2023', description: '' },
			{
				title: 'æ ªå¼ä¼šç¤¾NoSchool',
				date: '2022ã€œ2023',
				description: 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ç”Ÿ/ã‚¢ãƒ«ãƒã‚¤ãƒˆ<br>ãƒ¡ãƒ‡ã‚£ã‚¢é‹å–¶ã€SEOãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã«é–¢ã™ã‚‹æ¥­å‹™ã«å¾“äº‹ã—ã¾ã—ãŸã€‚'
			}
		],
		frameworks: [
			{
				name: 'TypeScript',
				iconSlug: 'typescript',
				description: 'JavaScriptã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚»ãƒƒãƒˆã§å‹å®‰å…¨ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãŒå¯èƒ½',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'Python',
				iconSlug: 'python',
				description: 'æ±ç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{ name:'C',
				iconSlug: 'c',
				description: 'æ±ç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª',
				level: 'å­¦ç¿’æ¸ˆã¿'
			},
			{
				name: 'Next.js',
				iconSlug: 'nextdotjs',
				description: 'Reactãƒ™ãƒ¼ã‚¹ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'React',
				iconSlug: 'react',
				description: 'UIæ§‹ç¯‰ã®ãŸã‚ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ–ãƒ©ãƒª',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'Hugo',
				iconSlug: 'hugo',
				description: 'é«˜é€ŸãªGoè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'Node.js',
				iconSlug: 'nodedotjs',
				description: 'ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã®JavaScriptå®Ÿè¡Œç’°å¢ƒ',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'graphQL',
				iconSlug: 'graphql',
				description: 'APIã®ã‚¯ã‚¨ãƒªè¨€èª',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},	
			{
				name: 'Prisma',
				iconSlug: 'prisma',
				description: 'TypeScriptå‘ã‘ORMãƒ©ã‚¤ãƒ–ãƒ©ãƒª',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'PostgreSQL',
				iconSlug: 'postgresql',
				description: 'ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
						{
				name: 'Tailwind CSS',
				iconSlug: 'tailwindcss',
				description: 'ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãªCSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
		],
		tools: [
			{
				name: 'Cloudflare',
				iconSlug: 'cloudflare',
				description: 'CDNãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚µãƒ¼ãƒãƒ¬ã‚¹æ©Ÿèƒ½ã‚’æŒã¤ã‚¯ãƒ©ã‚¦ãƒ‰åŸºç›¤',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'AWS',
				iconSlug: 'amazonwebservices',
				description: 'æ¥­ç•Œæ¨™æº–ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ç¾¤',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'Linux',
				iconSlug: 'linux',
				description: 'ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®Unixç³»OS',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'Rocky Linux',
				iconSlug: 'rockylinux',
				description: 'ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®Unixç³»OS',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'Ubuntu',
				iconSlug: 'ubuntu',
				description: 'ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®Unixç³»OS',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'Docker',
				iconSlug: 'docker',
				description: 'ã‚³ãƒ³ãƒ†ãƒŠå‹ä»®æƒ³åŒ–æŠ€è¡“',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­'
			},
			{
				name: 'GitHub',
				iconSlug: 'github',
				description: 'ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç®¡ç†ã¨ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ãŸã‚ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ',
				level: 'æ—¥å¸¸çš„ã«ä½¿ç”¨'
			},
			{
				name: 'Terraform',
				iconSlug: 'terraform',
				description: 'ã‚¤ãƒ³ãƒ•ãƒ©ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã™ã‚‹IaCãƒ„ãƒ¼ãƒ«',
				level: 'ç¿’å¾—ä¸­'
			},
						{
				name: 'Adobe XD',
				description: 'UI/UXãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­',
				iconSlug: '/icons/adobe.svg',
			},
			{
				name: 'Adobe Illustrator',
				description: 'ãƒ™ã‚¯ã‚¿ãƒ¼ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ç·¨é›†ã‚½ãƒ•ãƒˆ',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­',
				iconSlug: '/icons/adobe.svg',
			},
			{
				name: 'Adobe Photoshop',
				description: 'ç”»åƒç·¨é›†ã‚½ãƒ•ãƒˆ',
				level: 'æ¥­å‹™ã§ä½¿ç”¨ä¸­',
				iconSlug: '/icons/adobe.svg',
			}
		]
	};

	function getIconUrl(tech: { iconSlug?: string; name: string }): string {
		return tech.iconSlug
			? tech.iconSlug.startsWith('http') || tech.iconSlug.startsWith('/')
				? tech.iconSlug // ãƒ•ãƒ«ãƒ‘ã‚¹å¯¾å¿œï¼ˆå°†æ¥çš„ãªæ‹¡å¼µï¼‰
				: `https://cdn.simpleicons.org/${tech.iconSlug}/ffffff`
			: `/icons/${tech.name.toLowerCase().replace(/\s+/g, '-')}.svg`;
	}

</script>

<Card
	class="mx-auto min-h-[600px] rounded-xl border border-white bg-gray-800/80 shadow-xl backdrop-blur-2xl transition-transform duration-300 md:min-h-[500px]"
	style="backdrop-filter: blur(10px);"
>
	<CardContent class="flex flex-col items-center p-6 md:flex-row md:items-start">
		<!-- å·¦ã‚«ãƒ©ãƒ : ã‚¢ã‚¤ã‚³ãƒ³ã¨åå‰ãƒ»å½¹è· -->
		<div class="flex flex-col items-center md:w-1/2 md:items-start">
			<!-- æ¨ªä¸¦ã³ã«ã™ã‚‹ãŸã‚ã®ãƒ©ãƒƒãƒ‘ãƒ¼ -->
			<div class="mb-4 flex items-center space-x-4">
				<!-- ã‚¢ã‚¤ã‚³ãƒ³ -->
				<div class="flex h-28 w-28 items-center justify-center rounded-full overflow-hidden">
					<img src="/prof.jpg" alt="Profile" class="h-28 w-28 object-cover" />
				</div>
				<!-- åå‰ã¨è·æ¥­ -->
				<div class="text-left">
					<h2 class="text-2xl font-bold text-white">{profile.name}</h2>
					<p class="mt-1 text-sm text-gray-300">{profile.role}</p>
				</div>
			</div>

			<!-- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ -->
			<h3 class="mt-4 text-sm text-gray-400">è¨€èªãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</h3>
			<div class="mt-1 flex flex-wrap gap-3">
				{#each profile.frameworks as tech}
					<div class="relative group">
						<div class="flex items-center space-x-1 bg-gray-700/50 px-2 py-1 rounded-md text-sm text-gray-100 cursor-default">
							<img
								src={getIconUrl(tech)}
								alt={tech.name}
								class="w-4 h-4"
							/>
							<span>{tech.name}</span>
						</div>
						<!-- ãƒ›ãƒãƒ¼è¡¨ç¤º -->
						<div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 z-10 hidden group-hover:block bg-black text-white text-xs rounded-md px-3 py-2 w-max max-w-[220px] text-center shadow-lg transition-opacity duration-300">
							<p>{tech.description}</p>
							<p class="mt-1 text-gray-300 text-[10px]">ğŸ“˜ ä½¿ç”¨ãƒ¬ãƒ™ãƒ«ï¼š{tech.level}</p>
							<div class="absolute top-full left-1/2 -translate-x-1/2 w-2 h-2 bg-black rotate-45"></div>
						</div>
					</div>
				{/each}
			</div>

			<!-- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯: ãƒ„ãƒ¼ãƒ« -->
			<h3 class="mt-6 text-sm text-gray-400">ãƒ„ãƒ¼ãƒ«ãƒ»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </h3>
			<div class="mt-1 flex flex-wrap gap-3">
				{#each profile.tools as tech}
					<div class="relative group">
						<div class="flex items-center space-x-1 bg-gray-700/50 px-2 py-1 rounded-md text-sm text-gray-100 cursor-default">
							<img
								src={getIconUrl(tech)}
								alt={tech.name}
								class="w-4 h-4"
							/>
							<span>{tech.name}</span>
						</div>
						<!-- ãƒ›ãƒãƒ¼è¡¨ç¤º -->
						<div class="absolute bottom-full mb-2 left-1/2 -translate-x-1/2 z-10 hidden group-hover:block bg-black text-white text-xs rounded-md px-3 py-2 w-max max-w-[220px] text-center shadow-lg transition-opacity duration-300">
							<p>{tech.description}</p>
							<p class="mt-1 text-gray-300 text-[10px]">ğŸ“˜ ä½¿ç”¨ãƒ¬ãƒ™ãƒ«ï¼š{tech.level}</p>
							<div class="absolute top-full left-1/2 -translate-x-1/2 w-2 h-2 bg-black rotate-45"></div>
						</div>
					</div>
				{/each}
			</div>
		</div>

		<!-- å³ã‚«ãƒ©ãƒ : ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ (ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½) -->
		<div class="mt-6 md:mt-0 md:ml-8 md:w-2/3">
			<ScrollArea class="md:h-[30rem] h-72  w-full overflow-y-auto border rounded-md p-4">
				<div class="space-y-4 pl-4 -mb-10">
					<Timeline order="default">
						{#each profile.details as detail}
							<TimelineItem title={detail.title} date={detail.date}>
								<svelte:fragment slot="icon">
									<span class="flex absolute -start-3 justify-center items-center w-6 h-6 bg-primary-200 rounded-full ring-8 ring-white dark:ring-gray-900 dark:bg-primary-900">
										<CalendarWeekSolid class="w-4 h-4 text-primary-600 dark:text-primary-400" />
									</span>
								</svelte:fragment>
								<p class="text-base font-normal text-gray-500 dark:text-gray-400 -mb-5">
									{@html detail.description.replace(/\n/g, '<br>')}
								</p>
								<Separator class="my-2" />
							</TimelineItem>
						{/each}
					</Timeline>
				</div>
			</ScrollArea>
		</div>
	</CardContent>
</Card>